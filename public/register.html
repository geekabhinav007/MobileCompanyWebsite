<!DOCTYPE html>
<html>

<head>
	<title>Registration Page</title>
	<link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">

	<style>
		.gradient-custom-2 {
			/* fallback for old browsers */
			background: #fccb90;

			/* Chrome 10-25, Safari 5.1-6 */
			background: -webkit-linear-gradient(to right, #ee7724, #d8363a, #dd3675, #b44593);

			/* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
			background: linear-gradient(to right, #ee7724, #d8363a, #dd3675, #b44593);
		}

		@media (min-width: 768px) {
			.gradient-form {
				height: 100vh !important;
			}
		}

		@media (min-width: 769px) {
			.gradient-custom-2 {
				border-top-right-radius: .3rem;
				border-bottom-right-radius: .3rem;
			}
		}
	</style>

</head>

<body>
	<main>
		<!-- <section id="registration">
			<div class="container">
				<div class="row">
					<div class="col-md-6 offset-md-3">
						<h2>Registration</h2>
						<form id="registration-form">
							<div class="form-group">
								<label for="username">Username</label>
								<input type="text" class="form-control" id="username" name="username" placeholder="Enter your username">
							</div>
							<div class="form-group">
								<label for="password">Password</label>
								<input type="password" class="form-control" id="password" name="password" placeholder="Enter your password">
							</div>
							<div class="form-group">
								<label for="confirm-password">Confirm Password</label>
								<input type="password" class="form-control" id="confirm-password" name="confirm-password" placeholder="Confirm your password">
							</div>
							<button type="register" class="btn btn-primary">Register</button>
						</form>
					</div>
				</div>
			</div>
		</section> -->

		<section class="h-100 gradient-form" style="background-color: #eee;">
			<div class="container py-5 h-100">
				<div class="row d-flex justify-content-center align-items-center h-100">
					<div class="col-xl-10">
						<div class="card rounded-3 text-black">
							<div class="row g-0">
								<div>
									<div class="card-body p-md-5 mx-md-4">
										<div class="text-center">
											<img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/lotus.webp"
												style="width: 185px;" alt="logo">
											<h4 class="mt-1 mb-5 pb-1">We are The GreatDeveloper</h4>
										</div>

										<form id="registration-form">
											<p>Please Register Here</p>

											<div class="form-outline mb-4">
												<label class="form-label" for="username">Username</label>
												<input type="text" id="username" class="form-control"
													placeholder="username" />

											</div>

											<div class="form-outline mb-4">
												<label class="form-label" for="password">Password</label>
												<input type="password" id="password" class="form-control"
													placeholder="password" />

											</div>

											<div class="form-outline mb-4">
												<label class="form-label" for="confirm-password">Confirm
													Password</label>
												<input type="password" id="confirm-password" class="form-control"
													placeholder="Confirm Password" />

											</div>

											<button type="register"
												class="btn btn-primary btn-block fa-lg gradient-custom-2 mb-3">Register</button>

									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			</div>
		</section>
	</main>
	<!-- Bootstrap JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/js/bootstrap.bundle.min.js"></script>


	<script>
		const form = document.getElementById('registration-form');

		form.addEventListener('submit', e => {
			e.preventDefault();

			const username = document.getElementById('username').value;
			const password = document.getElementById('password').value;
			const confirmPassword = document.getElementById('confirm-password').value;

			// Send the form data to the server-side route using fetch
			fetch('/register', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({ username, password, confirmPassword })
			})
				.then(response => {
					if (response.ok) {
						// Registration successful, redirect to index.html
						form.reset();
						window.location.href = 'index.html';
					} else {
						// Registration failed, show the error message in an alert box
						response.text().then(errorMessage => {
							alert(errorMessage);
						});
					}
				})
				.catch(err => console.log(err));
		});
	</script>

</body>

</html>